var filter,plp;$(document).ready(function(){if(document.querySelector(".C0026"))return!1;if(!document.getElementById("categoryFilterForm"))return!1;var d={usePage:!1,cookieName:"LG5_PageHistory",getHistory:function(){return getCookie(d.cookieName)},setHistory:function(e){var t;d.usePage&&(t="view-all"==e?location.pathname+"=viewAll":location.pathname+"="+$(filter.el).find("input[type=hidden][name=page]").val(),setCookie(d.cookieName,t))},removeHistory:function(){d.usePage&&d.getHistory()&&removeCookie(d.cookieName)},runHistory:function(){if(d.usePage){var e=d.getHistory();if(e){var t,l,r=e.split(",");for(var a in r)t=r[a].split("=")[0],l=r[a].split("=")[1];t==location.pathname?"viewAll"==l?setTimeout(function(){$("#resultProductList .result-info a.view-all").click()},500):setTimeout(function(){"number"==typeof Number(l)&&$("#resultAppendTarget .pagination ul li").eq(l-1).find("button").click()},500):d.removeHistory()}}},init:function(){0<$(".C0007").length&&(d.usePage=!0)}};d.init(),filter={el:document.getElementById("categoryFilterForm"),result:document.getElementById("resultAppendTarget"),template:null,pageTemplate:null,banner:document.querySelector(".result-box .banner-box"),initial:null,ui:{el:{open:document.querySelector(".filter-open-box"),close:document.querySelector(".filter-result"),fieldset:null},init:function(){var t=filter.ui.el;if(t.fieldset=filter.el.querySelectorAll("fieldset"),$(t.open).on({click:function(e){e.preventDefault(),$(filter.el).is(":visible")?$(filter.el).hide():($(filter.el).addClass("open"),$(this).hide(),$(t.close).find("a").focus(),0<$(".C0007").length&&$(".C0007 .filter-open-floating").addClass("no-floating"))}}),$(t.close).on({click:function(e){e.preventDefault();$(filter.el).css("display");$(filter.el).is(":visible")&&($(filter.el).removeClass("open"),$(t.open).show(),$(t.open).find("a").focus(),0<$(".C0007").length&&$(".C0007 .filter-open-floating").removeClass("no-floating"))}}),$(t.fieldset).on({click:function(e){e.preventDefault();var t=e.delegateTarget;$(t).is(".open")?$(t).removeClass("open").addClass("close").find(".btn-list").attr("aria-expanded",!1):$(t).removeClass("close").addClass("open").find(".btn-list").attr("aria-expanded",!0)}},".btn-list"),0<$(".C0007").length){var e=parseInt($(".C0007").find(".product-list-box").offset().top),l=parseInt($(".C0007").offset().top);$(window).on("resize",function(){return e=parseInt($(".C0007").find(".product-list-box").offset().top)}),$(window).scroll(function(){e=parseInt($(".C0007").find(".product-list-box").offset().top),$(window).scrollTop()>=parseInt(e)&&0!=$(".C0007 .filter-open-floating").length&&!$(".C0007 .filter-open-floating").attr("class").match("no-floating")?$(".C0007").find(".filter-open-floating").removeClass("float-fix").addClass("float-active"):$(".C0007 #categoryFilterForm").attr("class").match("open")?$(".C0007").find(".filter-open-floating").addClass("no-floating"):$(".C0007").find(".filter-open-floating").removeClass("float-active")}),$(".C0007 .filter-open-floating .floating-filter").on({click:function(e){e.preventDefault(),l=($(this).attr("class").match("active")?($(this).removeClass("active").attr("aria-expanded",!1),$(".C0007 #categoryFilterForm").removeClass("open"),$(".C0007 .filter-open-box").css("display","block"),$(".C0007 .filter-open-floating").removeClass("no-floating"),$(".C0007 .result-box .sort-box").css("display","block"),$(".filter-box .float-filter-result").css("display","none"),$(".filter-box .filter-result").css("display","block")):($(this).addClass("active").attr("aria-expanded",!0),$(".C0007 #categoryFilterForm").addClass("open"),$(".C0007 .filter-open-box").css("display","none"),$(".C0007 .filter-open-floating").addClass("no-floating"),$(".C0007 .result-box .sort-box").css("display","none"),$(".filter-box .float-filter-result").css("display","block"),$(".filter-box .filter-result").css("display","none")),parseInt($(".C0007").offset().top)),$(window).scrollTop(l)}}),$(".C0007 .filter-open-floating .float-sort-box .sort-select .sortBy").on({change:function(e){var t=e.currentTarget,l=t.options[t.selectedIndex].value,r=changeTitleFormat($(this).find("option").eq(t.selectedIndex).text());plp.el.form.sort.value=l,plp.el.form.page.value=1,d.removeHistory(),$(plp.el.form).submit(),$(".C0007 .filter-open-floating .floating-filter").removeClass("active"),$(".C0007 #categoryFilterForm").removeClass("open"),$(".C0007 .filter-open-box").css("display","block"),$(".C0007 .filter-open-floating").removeClass("no-floating"),$(".C0007 .result-box .sort-box").css("display","block"),$(".filter-box .float-filter-result").css("display","none"),$(".filter-box .filter-result").css("display","block"),$(".result-box .sort-box .sort-select").find('select option[value="'+l+'"]').prop("selected",!0),$(".result-box .sort-box .sort-select").find(".chosen-single span").text($(this).find("option").eq(t.selectedIndex).text()),$("html, body").animate({scrollTop:$(plp.el.scrollTarget).offset().top},500),adobeTrackEvent("product-list-sort",{sort_option:r,page_event:{product_sort:!0}})}})}}},slider:{el:null,value:null,init:function(){var e=filter.slider;e.value=dragbarVal,e.el=filter.el.querySelectorAll(".slider-wrap");for(var t=0;t<e.el.length;t++){var l=e.el[t],r=l.querySelector(".slider-range"),a=e.value[l.getAttribute("data-value")],i=a.length-1;$(r).data("matchArray",a).slider({range:!0,min:0,max:i,values:[0,i],slide:e.slide,change:e.change}).data("ui-slider")._slide(),$(r).find(".ui-slider-handle").eq(0).attr("aria-label",r.getAttribute("data-min")).attr("role","slider"),$(r).find(".ui-slider-handle").eq(1).attr("aria-label",r.getAttribute("data-max")).attr("role","slider")}},slide:function(e,t){if(t.values[0]==t.values[1])return!1;var l=$(this).parents(".slider-wrap"),r=$(this).data("matchArray"),a=Object.keys(r[t.values[0]]),i=Object.keys(r[t.values[1]]),n={$min:l.find(".min-box"),$max:l.find(".max-box")};n.$min.find("span").text(a),n.$max.find("span").text(i),l.find(".ui-slider-handle").eq(0).attr("aria-valuetext",a),l.find(".ui-slider-handle").eq(1).attr("aria-valuetext",i),n.$min.find("span").attr("data-init")||n.$min.find("span").attr("data-init",a),n.$max.find("span").attr("data-init")||n.$max.find("span").attr("data-init",i),n.$min.find("input").val(r[t.values[0]][a]),n.$max.find("input").val(r[t.values[1]][i])},change:function(e,t){$(this).trigger("change",[t])},setSlider:function(){var e=filter.slider;if($(e.el).is("div"))for(var t=0;t<e.el.length;t++){var l=e.el[t],r=$(l).find(".slider-range"),a={min:$(l).find(".min-box input").data("index"),max:$(l).find(".max-box input").data("index")};a={min:a.min?a.min:0,max:a.max?a.max:$(r).slider("option","max")},$(l).find(".slider-range").slider("values",[a.min,a.max]).data("ui-slider")._slide()}},indexOfValue:function(e,t){for(var l=0;l<e.length;l++){var r=e[l];for(var a in r)if(r[a]==t)return l}}},cookie:{name:"LG5_filter",cont:null,bake:function(e){for(var t=filter.cookie,l=location.pathname,r=-1<(e=e.replace(/\&/g,"|").replace(/\=/g,":")).indexOf("|")?e.split("|"):[e],a=0;a<r.length;){var i=r[a];""==i.split(":")[1]||null==i.split(":")[1]?r.splice(a,1):a++}t.cont||(t.cont=[]);var n=r.join("|"),o=l+"="+n,s=t.returnData();""!=n?0<=s?t.cont[s]=o:t.cont.push(o):0<=s&&t.cont.splice(s,1),""==t.cont.join("")?removeCookie(t.name,!0):setCookie(t.name,t.cont.join(","),!0)},get:function(){var e=filter.cookie,t=getCookie(e.name)?getCookie(e.name):[];if(void 0!==t){t=-1<t.indexOf(",")?t.split(","):[t],e.cont=t;var l=e.returnData();if(0<=l)return t=t[l].split("=")[1]}},returnData:function(){var e=filter.cookie,t=location.pathname;if(e.cont){for(var l=-1,r=0;r<e.cont.length;r++){if(0<=e.cont[r].indexOf(t)){l=r;break}}return l}},reset:function(){filter.cookie.bake("")}},init:function(){var e;(filter.initial=$(filter.el).serialize(),filter.template=$("#productTemplate").clone().html(),filter.pageTemplate=$("#paginationTemplate").clone().html(),$("#productTemplate").remove(),$("#paginationTemplate").remove(),filter.ui.init(),"undefined"!=typeof dragbarVal&&filter.slider.init(),"object"==typeof filter.el.length)&&(e=isMobile?filter.el.length.getAttribute("data-mobile"):filter.el.length.getAttribute("data-desktop"),filter.el.length.value=e);var t=filter.getParam();d.getHistory()?(filter.addEvent(),d.runHistory()):t&&0==$(".compare-wrap").length?filter.setInput(t):filter.addEvent()},getParam:function(){var e;if(0<location.search.length){if(0==(e=location.search.replace("?","").replace("&&","&")).indexOf("&")&&(e=e.substring(1,e.length)),0<e.length){for(var t=!0,l=e.split("&"),r=0;r<l.length;r++){var a=l[r].split("=")[0];0==$("[name="+a+"]").length&&(t=!1)}e=t?e.replace(/\&/g,"|").replace(/\=/g,":").replace(/\?/g,""):filter.cookie.get()}}else e=filter.cookie.get();return e},setInput:function(e){for(var t=-1<e.indexOf("|")?e.split("|"):[e],l=["categoryId","subCategoryId","status","sort","page"],r=filter.el,a=[],i=0;i<t.length;i++){var n=t[i].split(":");if(-1==l.indexOf(n[0])){if(!(c=$(r).find('input[name="'+n[0]+'"]')).get(0))return!1;if("checkbox"==c.get(0).type){var o=c.filter('[value="'+n[1]+'"]').get(0);o.setAttribute("checked","checked");var s=changeTitleFormat($(o).closest(".option-box").find(".title strong").text()),d=changeTitleFormat($(o).parent().find(".text").text()),p=0==$(o).parent().find(".text .filter-cnt").length?$(o).parent().find(".text").text():$(o).parent().find(".text").text().replace($(o).parent().find(".text .filter-cnt").text(),"");d&&""!=d||(d=changeTitleFormat($(o).attr("title")),p=$(o).attr("title"));var u="<span data-filter-value='"+$(o).attr("id")+"'>"+p+"<a href='#'>remove</a></span>";0==$(".C0007 .apply-filters span").length&&$(".C0007 .apply-filters a.link-text").addClass("active"),$(".C0007 .apply-filters .link-text").before(u),$(".C0007 .apply-filters span[data-filter-value="+$(o).attr("id")+"] a").one("click",function(e){e.preventDefault(),$('.C0007 #categoryFilterForm input[id="'+$(this).parent().attr("data-filter-value")+'"]').click()}),s&&d?adobeTrackEvent("product-list-filter",{filter_name:s+"_"+d,page_event:{filter_apply:!0}}):d&&adobeTrackEvent("product-list-filter",{filter_name:d,page_event:{filter_apply:!0}})}else{if(c.get(0).value=n[1],0<(g=c.parents(".slider-wrap")).length){var f=filter.slider.indexOfValue(filter.slider.value[g.attr("data-value")],n[1]);c.data("index",f),a.push(n[0])}}}}if(filter.slider.setSlider(),0<a.length)for(i=0;i<a.length;i++){n=a[i];var c,g=(c=$(r).find('input[name="'+n+'"]')).parents(".slider-wrap");p=$(g).siblings(".title").find("strong").text()+" : "+$(g).children().find(".min-box span").text()+"-"+$(g).children().find(".max-box span").text();if(0!=$(".C0007 .apply-filters span[data-filter-value="+$(g).attr("data-value")+"]").length){$(".C0007 .apply-filters span[data-filter-value="+$(g).attr("data-value")+"]").contents().filter(function(){return 3==this.nodeType})[0].nodeValue=p}else{u="<span data-filter-value='"+$(g).attr("data-value")+"'>"+p+" <a href='#'>remove</a></span>";$(".C0007 .apply-filters .link-text").before(u),$(".C0007 .apply-filters span[data-filter-value="+$(g).attr("data-value")+"] a").one("click",function(e){e.preventDefault();var t=$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .slider-range').slider("option");$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] input').val("").removeData("index"),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .slider-range').slider("values",[t.min,t.max]),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .min-box span').text($('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .min-box span').attr("data-init")),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .max-box span').text($('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .max-box span').attr("data-init")),$(this).parent().remove()})}0!=$(".C0007 .apply-filters span").length?$(".C0007 .apply-filters a.link-text").addClass("active"):$(".C0007 .apply-filters a.link-text").removeClass("active")}filter.loadPLP(),filter.addEvent()},activateInput:function(e){if(void 0===e)return!1;var t=e,l=filter.el;$(l).find("label");if(""!=t)for(var r=0;r<t.length;r++){var a=t[r].facetValueId,i=$(l).find('input[value="'+a+'"]'),n=i.parents("label");n.find(".filter-cnt").text("("+t[r].modelCount+")"),"N"==t[r].enable.toUpperCase()?(i.attr("disabled","disabled"),n.addClass("disabled")):(i.removeAttr("disabled"),n.removeClass("disabled"))}},createProductItem:function(e){for(var t=[],l=0;l<e.length;l++){var r=e[l],a=filter.template;a=a.replace(/\*modelId\*/g,r.modelId).replace(/\*buName1\*/g,r.buName1).replace(/\*productIndex\*/g,l+1).replace(/\*modelName\*/g,r.modelName).replace(/\*replaceModelName\*/g,r.modelName.toString().replace(/ /gi,"_")).replace(/\*imageAltText\*/g,r.imageAltText).replace(/\*userFriendlyName\*/g,null==r.userFriendlyName?"":r.userFriendlyName).replace(/\*salesModelCode\*/g,r.salesModelCode).replace(/\*modelUrlPath\*/g,r.modelUrlPath).replace(/\*mediumImageAddr\*/g,r.mediumImageAddr).replace(/\*smallImageAddr\*/g,r.smallImageAddr).replace(/\*productTag1\*/g,r.productTag1).replace(/\*productTag2\*/g,r.productTag2).replace(/\*inquiryToBuyUrl\*/g,r.inquiryToBuyUrl).replace(/\*findTheDealerUrl\*/g,r.findTheDealerUrl).replace(/\*promotionText\*/g,r.promotionText?r.promotionText:"").replace(/\*rPrice\*/g,r.rPrice?r.rPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"null").replace(/\*rPromoPrice\*/g,r.rPromoPrice?r.rPromoPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"null").replace(/\*rPriceCent\*/g,r.rPriceCent).replace(/\*rPromoPriceCent\*/g,r.rPromoPriceCent).replace(/\*rDiscountedPrice\*/g,r.rDiscountedPrice?r.rDiscountedPrice.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"null").replace(/\*rDiscountedPriceCent\*/g,r.rDiscountedPriceCent).replace(/\*siblingType\*/g,r.siblingType).replace(/\*discountedRate\*/g,r.discountedRate).replace(/\*retailerPricingText\*/g,r.retailerPricingText).replace(/\*obsCondition\*/g,r.obsCondition),a="Y"==r.wtbExternalLinkUseFlag?a.replace(/\*whereToBuyUrl\*/g,r.wtbExternalLinkUrl).replace(/\*whereToBuyTarget\*/g,"N"==r.wtbExternalLinkSelfFlag?"_blank":"_self").replace(/\*whereToBuyTitle\*/g,"N"==r.wtbExternalLinkSelfFlag?$(a).find("a.where-to-buy").attr("data-link-text"):"").replace(/\*whereToBuyName\*/g,r.wtbExternalLinkName):a.replace(/\*whereToBuyUrl\*/g,r.whereToBuyUrl).replace(/\*whereToBuyTarget\*/g,"_self").replace(/\*whereToBuyTitle\*/g,"").replace(/\*whereToBuyName\*/g,$(a).find("a.where-to-buy").attr("data-link-text"));for(var i=$(a),n=i.find("*[data-key]"),o=(i.find("*[data-loop]"),0);o<n.length;o++){var s=n.eq(o),d=s.get(0).getAttribute("data-key");"Y"==r.wtbExternalLinkUseFlag&&"whereToBuyFlag"==d&&(d="wtbExternalLinkUseFlag");var p=r[d];p&&null!=p&&"N"!=p?s.is(".btn")&&s.addClass("active"):s.is(".btn")?s.removeClass("active"):s.remove()}r.target&&"SELF"==r.target.toUpperCase()?i.find(".item.js-model").addClass("self"):i.find(".item.js-model").removeClass("self");var u=i.find(".price-area");"DISCONTINUED"==r.modelStatusCode?(u.filter(".rPrice").html(""),u.filter(".rPromoPrice").remove(),u.filter(".retailer").remove()):"Y"==r.obsCondition?(r.rPromoPrice&&null!=r.rPromoPrice?u.filter(".rPrice").remove():(r.rPrice&&null!=r.rPrice||u.filter(".rPrice").html(""),u.filter(".rPromoPrice").remove()),u.filter(".retailer").remove()):"Y"==r.retailerPricingFlag?(u.filter(".rPrice").remove(),u.filter(".rPromoPrice").remove()):(r.rPromoPrice&&null!=r.rPromoPrice?u.filter(".rPrice").remove():(r.rPrice&&null!=r.rPrice||u.filter(".rPrice").html(""),u.filter(".rPromoPrice").remove()),u.filter(".retailer").remove());var f,c=i.find(".model-group .inner");if(f=r.siblingType&&null!=r.siblingType?"color"==r.siblingType.toLowerCase()?"color":"size":null,r.siblingModels&&0<r.siblingModels.length&&null!=f&&c.get(0)){for(var g=i.find(".model-group ."+f).clone().html(),m=[],v=0;v<r.siblingModels.length;v++){var b=r.siblingModels[v],h=g.replace(/\*siblingCode\*/g,b.siblingCode).replace(/\*siblingValue\*/g,b.siblingValue).replace(/\*subModelId\*/g,b.modelId);b.modelId!=r.modelId&&(h=(h=h.replace("active","")).replace('aria-checked="true"','aria-checked="false"')),m+=h}c.append(m);var y=r.userFriendlyName;""==y&&(y=r.modelName),c.attr("aria-label",y+" "+f+" group")}r.modelRollingImgList&&null!=r.modelRollingImgList&&i.find(".visual img.pc").addClass("js-thumbnail-loop").attr("data-img-list",r.modelRollingImgList),i.find("template").remove(),0==l&&i.addClass("first-item"),t+=a=i.get(0).outerHTML}return t},loadPLP:function(x){var C=filter.el,T=1==$(C).data("focus"),e=C.action;x&&"submit"==x.type?x.preventDefault():C.page&&(C.page.value=1);var t=xssfilter($(C).serialize()),k=$(C).serialize();ajax.call(e,t,"json",function(e){if(e&&e.data&&(i=e.data instanceof Array?e.data[0]:e.data),"success"==e.status&&i){if($(filter.result.querySelector(".no-content")).is(":visible")&&$(filter.result).children().removeAttr("style"),i.productList=i.productList&&null!=i.productList?i.productList:[],i.multiCategorys=i.multiCategorys&&null!=i.multiCategorys?i.multiCategorys:[],null!=i.promotionTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=promotionsOnly]")&&0==i.promotionTotalCount)(t=filter.el.querySelector("input[type=checkbox][name=promotionsOnly]")).setAttribute("disabled","disabled"),t.parentNode.classList.add("disabled"),$(t).siblings(".filter-cnt").text("("+i.promotionTotalCount+")");else if(null!=i.promotionTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=promotionsOnly]")&&0<i.promotionTotalCount){var t;(t=filter.el.querySelector("input[type=checkbox][name=promotionsOnly]")).removeAttribute("disabled"),t.parentNode.classList.remove("disabled"),$(t).siblings(".filter-cnt").text("("+i.promotionTotalCount+")")}if(null!=i.obsTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=obsOnly]")&&0==i.obsTotalCount)(l=filter.el.querySelector("input[type=checkbox][name=obsOnly]")).setAttribute("disabled","disabled"),l.parentNode.classList.add("disabled"),$(l).siblings(".filter-cnt").text("("+i.obsTotalCount+")");else if(null!=i.obsTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=obsOnly]")&&0<i.obsTotalCount){var l;(l=filter.el.querySelector("input[type=checkbox][name=obsOnly]")).removeAttribute("disabled"),l.parentNode.classList.remove("disabled"),$(l).siblings(".filter-cnt").text("("+i.obsTotalCount+")")}if(null!=i.thinqTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=thinQ]")&&0==i.thinqTotalCount)(r=filter.el.querySelector("input[type=checkbox][name=thinQ]")).setAttribute("disabled","disabled"),r.parentNode.classList.add("disabled"),$(r).siblings(".filter-cnt").text("("+i.thinqTotalCount+")");else if(null!=i.thinqTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=thinQ]")&&0<i.thinqTotalCount){var r;(r=filter.el.querySelector("input[type=checkbox][name=thinQ]")).removeAttribute("disabled"),r.parentNode.classList.remove("disabled"),$(r).siblings(".filter-cnt").text("("+i.thinqTotalCount+")")}if(null!=i.bundlesTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=bundlesOnly]")&&0==i.bundlesTotalCount)(a=filter.el.querySelector("input[type=checkbox][name=bundlesOnly]")).setAttribute("disabled","disabled"),a.parentNode.classList.add("disabled"),$(a).siblings(".filter-cnt").text("("+i.bundlesTotalCount+")");else if(null!=i.bundlesTotalCount&&null!=filter.el.querySelector("input[type=checkbox][name=bundlesOnly]")&&0<i.bundlesTotalCount){var a;(a=filter.el.querySelector("input[type=checkbox][name=bundlesOnly]")).removeAttribute("disabled"),a.parentNode.classList.remove("disabled"),$(a).siblings(".filter-cnt").text("("+i.bundlesTotalCount+")")}if(0==$(filter.result.querySelector(".promotion-wrapper")).length&&(0<i.productList.length||1==i.multiCategorys.length)){var i,n;if((i=e.data instanceof Array?e.data[0]:e.data).multiCategorys&&1==i.multiCategorys.length){var o=i.totalCount,s=i.multiCategorys,d=i.filterEnableList;(i=s instanceof Array?s[0]:s).filterEnableList=d}n=filter.createProductItem(i.productList);var p=i.pageInfo;if(T){$(filter.result.querySelector(".pagination")).hide(),$(filter.result.querySelector(".list-box")).append(n),bindImgError(),p&&"Y"==p.view&&1==p.rightPage?(filter.result.querySelector(".expander button").value=p.page+1,$(filter.result.querySelector(".expander")).show()):$(filter.result.querySelector(".expander")).hide()}else{if($(filter.result.querySelector(".expander")).hide(),$(filter.result.querySelector(".list-box")).html(n),bindImgError(),i.totalCount?$(".result-number").text(i.totalCount):o&&$(".result-number").text(o),0==$("#categoryFilterForm input[type=checkbox]:checked").length&&0==$('#categoryFilterForm .slider-wrap input[value!=""]').length?($(".result-info .filterTotal").hide(),$(".result-info .total").show()):($(".result-info .filterTotal").show(),$(".result-info .total").hide()),p&&"Y"==p.view)if(filter.result.querySelector(".pagination")){for(var u=[],f=p.loopStart;f<=p.loopEnd;f++){var c=filter.pageTemplate;if(c=$(c).get(0),_pageButton=c.querySelector("button"),_pageButton.value=f,(_pageButton.innerHTML=f).toString()==p.page&&(_pageButton.setAttribute("class","active"),_pageButton.setAttribute("aria-selected","true")),filter.result.querySelector(".pagination").getAttribute("data-aria-pattern")){var g=filter.result.querySelector(".pagination").getAttribute("data-aria-pattern").replace(/\#/g,f);_pageButton.setAttribute("aria-label",g)}u+=c.outerHTML}$(filter.result.querySelector(".pagination ul")).html(u),filter.result.querySelector(".pagination .prev").disabled=!p.leftPage,filter.result.querySelector(".pagination .next").disabled=!p.rightPage,filter.result.querySelector(".pagination .prev").value=p.page-1,filter.result.querySelector(".pagination .next").value=p.page+1,$(filter.result.querySelector(".pagination")).show()}else 0<filter.result.querySelectorAll(".btn-area").length&&(filter.result.querySelector(".btn-area .prev").disabled=!p.leftPage,filter.result.querySelector(".btn-area .next").disabled=!p.rightPage,$(filter.result.querySelector(".btn-area")).show());else $(filter.result.querySelector(".pagination")).hide(),0==$(".compare-wrap").length?$(filter.result.querySelector(".btn-area")).hide():(filter.result.querySelector(".btn-area .prev").disabled=!p.leftPage,filter.result.querySelector(".btn-area .next").disabled=!p.rightPage,$(filter.result.querySelector(".btn-area")).show());filter.activateInput(i.filterEnableList),plp.mediaBranch(window.matchMedia("(max-width: 1069px)"))}if($(C).data("focus",!1),$(filter.el).trigger("appended"),x&&"submit"==x.type){var m=filter.result.querySelector(".first-item");$(m).removeClass("first-item")}"undefined"!=typeof runEcorebates&&$.isFunction(runEcorebates)&&runEcorebates()}else if(1<=i.multiCategorys.length){$(filter.result.querySelector(".promotion-wrapper")).html("");for(var v=0;v<i.multiCategorys.length;v++){var b=$("#promotionTemplate").clone().html(),h=i.multiCategorys[v];b=b.replace(/\*categoryName\*/g,h.categoryName).replace(/\*categoryId\*/g,h.categoryId).replace(/\*viewAllAjaxUrl\*/g,h.viewAllAjaxUrl).replace(/\*productList\*/g,filter.createProductItem(h.productList));var y=$(b);p=h.pageInfo;i.totalCount&&$(".result-number").text(i.totalCount),h.viewAllAjaxUrl&&null!=h.viewAllAjaxUrl||y.find(".list-more").removeAttr("data-url"),$(filter.result.querySelector(".promotion-wrapper")).append(y.get(0).outerHTML),bindImgError(),filter.activateInput(i.filterEnableList),plp.mediaBranch(window.matchMedia("(max-width: 1069px)"))}"undefined"!=typeof runEcorebates&&$.isFunction(runEcorebates)&&runEcorebates()}else $(filter.result.querySelector(".no-content")).show().siblings().hide(),$(".result-number").text("0"),filter.activateInput(i.filterEnableList);thumbnailLoop&&$(filter.result).trigger("thumbnailCarousel")}x&&"submit"==x.type||filter.cookie.bake(k),C.length&&(C.length.disabled=!1),$("body").trigger("initialized-plp")},null,"body"),filter.initial==t?$(filter.banner).show():$(filter.banner).hide()},viewAllPromotionPLP:function(e,r){var a=$(e.currentTarget).closest(".promotion-box"),t=$(e.currentTarget).closest(".list-more"),l=t.get(0).getAttribute("data-url"),i=t.data();delete i.url;var n=$(filter.el).serialize().replace(/\&filterCategoryId=[A-Z]+[0-9]+/g,"")+"&filterCategoryId="+t.data("category-id");i=$.param(i)+"&"+n;var o=a.find(".list-box li:visible:last").next();l&&null!=l?ajax.call(l,xssfilter(i),"json",function(e){if(e&&e.data&&(t=e.data instanceof Array?e.data[0]:e.data),t.productList=t.productList?t.productList:t.multiCategorys[0]?t.multiCategorys[0].productList:t.multiCategorys,t.productList){var t=e.data instanceof Array?e.data[0]:e.data,l=filter.createProductItem(t.productList);a.find(".list-box").append(l).find(".first-item").removeClass("first-item"),bindImgError(),a.addClass("open"),r?$(filter.result).find("a, button").eq(0).focus():o.find("a, button").eq(0).focus(),thumbnailLoop&&$(filter.result).trigger("thumbnailCarousel")}},null,"body"):(a.addClass("open"),r?$(filter.result).find("a, button").eq(0).focus():o.find("a, button").eq(0).focus())},reset:function(e){var t=filter.el;filter.removeEvent(),filter.cookie.reset(),$(t).find("input:checked").removeAttr("checked"),$(t).find(".slider-wrap input").val("").removeData("index"),filter.slider.setSlider(),d.removeHistory(),$(".C0007 .apply-filters span").remove(),$(".C0007 .apply-filters a.link-text").removeClass("active"),setTimeout(function(){filter.loadPLP(),filter.addEvent()},100)},removeEvent:function(){$(filter.el).off()},addEvent:function(){$(filter.el).on({submit:filter.loadPLP}),$(filter.el).on({change:function(e,t){if(t&&t.handle){var l=[$(this).siblings().find(".min-box input").get(0),$(this).siblings().find(".max-box input").get(0)],r=t.handleIndex;if(l[r].value&&l[r].value!=l[r].getAttribute("data-old")){var a=0==r?$(this).siblings().find(".min-box span").text().replace(/[^0-9.]/g,""):$(this).siblings().find(".max-box span").text().replace(/[^0-9.]/g,"");adobeTrackEvent("product-list-filter",{filter_name:l[r].getAttribute("name")+"_"+a,page_event:{filter_apply:!0}})}if(l[r].setAttribute("data-old",l[r].value),""==$(this).siblings().find(".min-box input").val()&&""==$(this).siblings().find(".max-box input").val())$(".C0007 .apply-filters span[data-filter-value="+$(this).parent().attr("data-value")+"]").remove();else{var i=$(this).parent().siblings(".title").find("strong").text()+" : "+$(this).siblings().find(".min-box span").text()+"-"+$(this).siblings().find(".max-box span").text();if(0!=$(".C0007 .apply-filters span[data-filter-value="+$(this).parent().attr("data-value")+"]").length){$(".C0007 .apply-filters span[data-filter-value="+$(this).parent().attr("data-value")+"]").contents().filter(function(){return 3==this.nodeType})[0].nodeValue=i}else{var n="<span data-filter-value='"+$(this).parent().attr("data-value")+"'>"+i+" <a href='#'>remove</a></span>";$(".C0007 .apply-filters .link-text").before(n),$(".C0007 .apply-filters span[data-filter-value="+$(this).parent().attr("data-value")+"] a").one("click",function(e){e.preventDefault();var t=$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .slider-range').slider("option");$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] input').val("").removeData("index"),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .slider-range').slider("values",[t.min,t.max]),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .min-box span').text($('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .min-box span').attr("data-init")),$('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .max-box span').text($('.C0007 .slider-wrap[data-value="'+$(this).parent().attr("data-filter-value")+'"] .max-box span').attr("data-init")),$(this).parent().remove()})}}0!=$(".C0007 .apply-filters span").length?$(".C0007 .apply-filters a.link-text").addClass("active"):$(".C0007 .apply-filters a.link-text").removeClass("active")}else{var o=changeTitleFormat($(this).closest(".option-box").find(".title strong").text()),s=changeTitleFormat($(this).parent().find(".text").text());i=0==$(this).parent().find(".text .filter-cnt").length?$(this).parent().find(".text").text():$(this).parent().find(".text").text().replace($(this).parent().find(".text .filter-cnt").text(),"");if(s&&""!=s||(s=changeTitleFormat($(this).attr("title")),i=$(this).attr("title")),$(this).prop("checked")){n="<span data-filter-value='"+$(this).attr("id")+"'>"+i+"<a href='#'>remove</a></span>";0==$(".C0007 .apply-filters span").length&&$(".C0007 .apply-filters a.link-text").addClass("active"),$(".C0007 .apply-filters .link-text").before(n),$(".C0007 .apply-filters span[data-filter-value="+$(this).attr("id")+"] a").one("click",function(e){e.preventDefault(),$('.C0007 #categoryFilterForm input[id="'+$(this).parent().attr("data-filter-value")+'"]').click()}),o&&s?adobeTrackEvent("product-list-filter",{filter_name:o+"_"+s,page_event:{filter_apply:!0}}):s&&adobeTrackEvent("product-list-filter",{filter_name:s,page_event:{filter_apply:!0}})}else $(".C0007 .apply-filters span[data-filter-value="+$(this).attr("id")+"]").remove(),0==$(".C0007 .apply-filters span").length&&$(".C0007 .apply-filters a.link-text").removeClass("active")}plp.el.form.viewAll&&(plp.el.form.viewAll.value=""),d.removeHistory(),filter.loadPLP()}},"input, .slider-range"),$(filter.el).on({reset:filter.reset}),$(".C0007 .apply-filters .link-text").on("click",function(e){e.preventDefault(),$(filter.el).find('.etc-box button[type="reset"]').trigger("click")})}},plp={el:{list:document.getElementById("resultProductList"),scrollTarget:document.getElementById("resultAppendTarget"),form:document.getElementById("categoryFilterForm")},init:function(){var e=plp;plp.addEvent(),e.mediaBranch(window.matchMedia("(max-width: 1069px)"))},mediaBranch:function(e,t){var l=plp.el.list.querySelectorAll(".promotion-box"),r=filter.el.querySelectorAll(".option-box").length;if(r=0<r?3:4,e.matches)for(var a=0;a<l.length;a++){var i=l[a];i.querySelectorAll(".list-box li").length<=2?$(i).addClass("js-open"):$(i).removeClass("js-open")}else for(var n=0;n<l.length;n++){var o=l[n];r>=o.querySelectorAll(".list-box li").length?$(o).addClass("js-open"):$(o).removeClass("js-open")}},addEvent:function(){$(plp.el.list).on({click:function(e){var t;if(e.preventDefault(),$(e.currentTarget).closest(".expander")[0])t=e.currentTarget.value,$(plp.el.form).data("focus",!0);else{t=$(e.currentTarget).is("a")?e.currentTarget.getAttribute("href"):e.currentTarget.value;var l="";$(e.currentTarget).is(".prev")?l="L":$(e.currentTarget).is(".next")&&(l="R"),plp.el.form.pagePosition.value=l,$("html, body").animate({scrollTop:$(plp.el.list).offset().top},500),$(plp.el.form).data("focus",!1)}0<$(".promotion-wrapper .list-more").length?$(".promotion-wrapper .list-more a:visible").trigger("click",[!0]):($(e.currentTarget).is(".view-all")?(plp.el.form.viewAll&&(plp.el.form.viewAll.value="Y"),plp.el.form.length.disabled=!0,plp.el.form.page.value="viewAll"):(plp.el.form.length.disabled=!1,plp.el.form.page.value=t),$(plp.el.form).submit()),$(e.currentTarget).is(".view-all")?d.setHistory("view-all"):($(e.currentTarget).is(".pagination a")||$(e.currentTarget).is(".pagination button"))&&d.setHistory()}},".pagination a, .pagination button, a.view-all, .expander button"),$(plp.el.list).on({change:function(e){var t=e.currentTarget,l=t.options[t.selectedIndex].value,r=changeTitleFormat($(this).find("option").eq(t.selectedIndex).text());plp.el.form.sort.value=l,plp.el.form.page.value=1,d.removeHistory(),$(plp.el.form).submit(),0<$(".C0007").length&&$(".C0007 .filter-open-floating .float-sort-box .sort-select").find('select option[value="'+l+'"]').prop("selected",!0),adobeTrackEvent("product-list-sort",{sort_option:r,page_event:{product_sort:!0}})}},"#sortBy"),$(plp.el.list).on({click:filter.viewAllPromotionPLP},".promotion-box .list-more a"),window.matchMedia("(max-width: 1069px)").addListener(this.mediaBranch)}},filter.init(),plp.init()});
//# sourceMappingURL=maps/category-filter.min.js.map
