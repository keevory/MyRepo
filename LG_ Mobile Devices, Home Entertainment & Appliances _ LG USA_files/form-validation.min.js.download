/* checkValidation v1.0 */
!function(u){u.fn.checkValidation=function(e){var s=this,i=u(this),c=u.extend({trigger:!1,onlyBoolean:!1},e,i.data()),g={$fields:null,result:!0,radios:{},errorMessageId:"{{targetId}}Error",init:function(){i.is("input, textarea, select")?g.$fields=i:g.$fields=i.find("input, textarea, select"),g.validation()},accessibility:function(e,i){var r=u(e).removeAttr("aria-describedby"),t=r.closest(".field-block").find(".error-msg");if(t){t.find("> span").removeAttr("id");var n=g.errorMessageId.replace(/\{\{targetId\}\}/,e.id),a=u(e).prev(".hiddenText").attr("id"),o=(a?a+" ":"")+n,l=r.is("select")?r.next(".chosen-container").find(">a"):r;i||t.find("> span").each(function(){var e=u(this);if(e.is(":visible"))return e.attr("id",n),!1}),l.attr({"aria-describedby":o,"aria-invalid":!i})}},autoFocus:function(e){0<=e.type.indexOf("select")&&u(e).is(".run-chosen")?u(e).is(":visible")?u(e).focus():u(e).trigger("chosen:activate"):u(e).focus();var i=u(e);"radio"==e.type&&(i=f.$fieldBlock.find('input[name="'+e.name+'"]')),i.off("change.reconfirm").on({"change.reconfirm":function(e){var i=e.currentTarget;g.validation(i),u(i).off("change.reconfirm")}})},validation:function(e){var i,r=[];i=(r=e?[e]:g.$fields).length;for(var t=0;t<i;t++){var n=r[t];f.$fieldBlock=u(n).parents(".field-block"),f.$errorMsg=f.$fieldBlock.find(".error-msg"),c.onlyBoolean||(f.$fieldBlock.removeClass("error"),f.$errorMsg.find("span").hide());var a=!0;if(u(n).is(":hidden")&&"hidden"!=n.type){var o=n.type.indexOf("select")<=0&&!u(n).is(".run-chosen"),l=n.type.indexOf("select")<=0&&u(n).siblings(".chosen-container").is(":hidden");if(o||l)continue}else if(u(n).is(":disabled"))continue;if(!f.required(n)){a=!1,c.onlyBoolean||(u(s).find(".field-block").removeClass("error"),f.$fieldBlock.addClass("error"),g.accessibility(n,a),g.autoFocus(n)),console.log("validation case 1"),g.result=!1;break}"text"==n.type&&n.getAttribute("data-type")&&-1!=navigator.appVersion.indexOf("MSIE 9.")&&n.setAttribute("type",n.getAttribute("data-type"));if(0<=["text","password","tel","email","number","file"].indexOf(n.type))f.minLength(n)?("text"==n.type&&(a=f.pattern(n)),"email"==n.type&&(a=f.email(n)),"tel"==n.type&&(a="phone"==n.getAttribute("data-type")?f.phone(n):f.tel(n)),"file"==n.type&&(a=f.file(n)),a&&n.getAttribute("data-match-target")&&(a=f.match(n))):a=!1;else if("radio"==n.type||"checkbox"==n.type){var d=f.$fieldBlock.find('input[name="'+n.name+'"]:checked').get(0);if(g.radios[n.name]||!d)continue;g.radios[n.name]={checkedField:d},a=f.radio(n)}if(!a){c.onlyBoolean||(f.$fieldBlock.addClass("error"),g.accessibility(n,a),g.autoFocus(n)),console.log("validation case 2"),g.result=!1;break}g.result=!0,c.onlyBoolean||(f.$fieldBlock.removeClass("error"),g.accessibility(n,a))}}},f={$fieldBlock:null,$errorMsg:null,required:function(e){var i,r=null!=e.getAttribute("required");if(u(e).is(":disabled")&&(r=!1),"checkbox"!=e.type||""!=e.name&&null!=e.name)if("radio"==e.type||"checkbox"==e.type&&e.name){var t=e.name;i=!f.$fieldBlock.find('input[name="'+t+'"]:checked').val()}else i=""==u.trim(u(e).val())||null==u.trim(u(e).val());else i=!e.checked;return r&&i?(console.log(e.name),c.onlyBoolean||f.$errorMsg.find(".required").show(),c.trigger&&u(e).trigger("invalid.required"),console.log("check case 1"),!1):(c.onlyBoolean||f.$errorMsg.find(".required").hide(),c.trigger&&u(e).trigger("valid.required"),!0)},pattern:function(e){var i=e.getAttribute("pattern")?e.getAttribute("pattern"):e.getAttribute("data-pattern");if(i&&""!=e.value){i="\\d*"==i?"^[0-9]*$":i;var r=e.value;return new RegExp(i,"i").test(r)?(c.onlyBoolean||f.$errorMsg.find(".invalid").hide(),!0):(c.onlyBoolean||f.$errorMsg.find(".invalid").show(),c.trigger&&u(e).trigger("invalid.pattern"),console.log("check case 2"),!1)}return!0},minLength:function(e){var i=e.getAttribute("minLength");if(i){var r=e.value.length;return r<i&&0<r?(c.onlyBoolean||f.$errorMsg.find(".min-length").show(),c.trigger&&u(e).trigger("invalid.min"),!1):(c.onlyBoolean||f.$errorMsg.find(".min-length").hide(),!0)}return!0},email:function(e){var i=e.value;return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(i)?(c.onlyBoolean||f.$errorMsg.find(".invalid").hide(),!0):(c.onlyBoolean||f.$errorMsg.find(".invalid").show(),c.trigger&&u(e).trigger("invalid.email"),!1)},tel:function(e){var i=e.value;return new RegExp(/^[0-9-]*$/).test(i)?(c.onlyBoolean||f.$errorMsg.find(".invalid").hide(),!0):(c.onlyBoolean||f.$errorMsg.find(".invalid").show(),c.trigger&&u(e).trigger("invalid.tel"),!1)},phone:function(e){var i=e.value,r=new RegExp(/^[+()]*([0-9]{3})[-()]*([0-9]{3})[-()]*([0-9]{4}|[a-zA-Z]{4})$/);return console.log(r.test(i),i),!r.test(i)&&0<i.length?(f.$errorMsg.find(".phone").show(),c.trigger&&u(e).trigger("invalid.phone"),!1):(f.$errorMsg.find(".phone").hide(),!0)},match:function(e){return e.value!=u(e.getAttribute("data-match-target")).val()?(c.onlyBoolean||f.$errorMsg.find(".match").show(),!1):(c.onlyBoolean||f.$errorMsg.find(".match").hide(),!0)},radio:function(e){var i=g.radios[e.name].checkedField.getAttribute("data-related-input");if(i&&""==u(i).val()){var r=u(i).parent(".field-block");return c.onlyBoolean||(r.find(".error-msg .required").show(),u(i).focus()),!1}return!0},file:function(e){if(!e.files[0])return!0;var i,r,t=u(e).data("max"),n=u(e).data("extension"),a=(navigator.appName,u(e).get());if(!t&&!n)return!0;if(-1!=t.indexOf("MB")&&(t=1024*parseInt(t.split("MB")[0])*1024),window.FileReader)fileSize=u(e)[0].files[0].size,i=u(e)[0].files[0].name;else{var o=new ActiveXObject("Scripting.FileSystemObject");fileSize=o.getFile(a.value).size,i=u(e).val().split("/").pop().split("\\").pop()}return fileSize>t?(c.onlyBoolean||f.$errorMsg.find(".size").show(),c.trigger&&u(e).trigger("invalid.file"),!1):(r=i.split(".")[i.split(".").length-1].toLowerCase(),-1==u.inArray(r,n.split("|"))?(c.onlyBoolean||f.$errorMsg.find(".invalid").show(),c.trigger&&u(e).trigger("invalid.file"),!1):(c.trigger&&u(e).trigger("valid.file"),!0))}};return this.each(function(){g.init()}),g.result}}(jQuery),$(document).ready(function(){$('input[type="radio"], input[type="checkbox"]').on({change:function(e){var i=e.currentTarget,r=i.getAttribute("data-related-input"),t=$(i).parents(".field-block");t.removeClass("error"),i.checked?(t.find('input[type="text"]').attr("disabled","disabled"),r&&(console.log(""),$(r).removeAttr("disabled").attr("required","required"),console.log(""))):$(r).attr("disabled","disabled").removeAttr("required")}}),$(".auto-validation-form").on({submit:function(e){var i=$(this);i.checkValidation()?i.trigger("validationSuccess",[this]):(e.preventDefault(),i.trigger("validationFail",[this]))}})});
//# sourceMappingURL=maps/form-validation.min.js.map
